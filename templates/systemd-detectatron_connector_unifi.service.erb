# systemd unit file for Detectatron Unifi Connector
# (generated via puppet-detectatron)
#

[Unit]
Description=Detectatron Service


[Service]
Type=simple
WorkingDirectory=<%= @detectatron_dir %>/connector_unifi
Environment=ENDPOINT_DETECTATRON=<%= @endpoint_detectatron %>
Environment=UNIFI_API_KEY=<%= @unifi_api_key %>
ExecStart=<%= @java_binary %> -Xmx<%= @java_heap_mb %>m -jar <%= @detectatron_dir -%>/connector_unifi/build/libs/latest.jar
RestartSec=5
Restart=always
User=<%= @detectatron_user %>
Group=<%= @detectatron_group %>

[Install]
WantedBy=multi-user.target
